<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Local Validation - Perl LSP Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Comprehensive documentation for the perl-lsp project - a production-ready Perl Language Server Protocol implementation">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>â†</kbd> or <kbd>â†’</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Perl LSP Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/EffortlessMetrics/tree-sitter-perl-rs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="ci-local-validation"><a class="header" href="#ci-local-validation">CI Local Validation</a></h1>
<p><em>Part of Issue #211: CI Pipeline Cleanup</em></p>
<p>This guide documents the <strong>local-first validation philosophy</strong> for perl-lsp development. All CI gates run locally before pushing to prevent cost overruns and ensure fast feedback loops.</p>
<hr />
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<h3 id="local-first-philosophy"><a class="header" href="#local-first-philosophy">Local-First Philosophy</a></h3>
<p>The perl-lsp project is <strong>local-first by design</strong>. CI is a confirmation step, not your iteration loop. All validation gates run locally before pushing:</p>
<ul>
<li><strong>Fast feedback</strong>: Catch issues in seconds, not minutes</li>
<li><strong>Cost awareness</strong>: Avoid burning GitHub Actions minutes on known failures</li>
<li><strong>Developer productivity</strong>: Iterate without waiting for CI</li>
<li><strong>Deterministic builds</strong>: Same results locally and in CI</li>
</ul>
<h3 id="ci-cost-awareness"><a class="header" href="#ci-cost-awareness">CI Cost Awareness</a></h3>
<p><strong>Why validate locally?</strong></p>
<ul>
<li>GitHub Actions minutes cost money (~$0.06-0.08 per PR for essential jobs)</li>
<li>Untested CI pipelines can burn hundreds of dollars in compute costs</li>
<li>Flaky tests multiply costs through retries and re-runs</li>
<li>Local validation is <strong>free</strong> and <strong>instant</strong></li>
</ul>
<p><strong>Budget discipline:</strong></p>
<ul>
<li>Issue #211 targets $720/year savings through CI optimization</li>
<li>Pre-push validation prevents wasted CI runs</li>
<li>Label-gated expensive jobs (mutation, benchmarks) are opt-in only</li>
</ul>
<hr />
<h2 id="quick-start"><a class="header" href="#quick-start">Quick Start</a></h2>
<h3 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h3>
<p><strong>Option 1: Nix (Recommended - Deterministic, Reproducible)</strong></p>
<pre><code class="language-bash"># Install Nix (if not already installed)
curl --proto '=https' --tlsv1.2 -sSf -L https://install.determinate.systems/nix | sh -s -- install

# Enter development shell
nix develop

# You now have:
# - Rust 1.89.0 (MSRV) with wasm32-unknown-unknown target
# - cargo, rustfmt, clippy
# - just (command runner)
# - cargo-nextest (fast test runner)
# - cargo-audit (security scanner)
# - cargo-mutants (mutation testing)
# - gh (GitHub CLI)
# - jq, python3 (for CI scripts)
</code></pre>
<p><strong>Option 2: Standard Rust Toolchain</strong></p>
<pre><code class="language-bash"># Install Rust (if not already installed)
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# Install just command runner
cargo install just

# Install cargo-nextest (optional but recommended)
cargo install cargo-nextest

# Ensure MSRV compliance (Rust 1.89)
rustup install 1.89.0
rustup override set 1.89.0
</code></pre>
<hr />
<h2 id="nix-based-ci-workflow"><a class="header" href="#nix-based-ci-workflow">Nix-Based CI Workflow</a></h2>
<h3 id="why-nix"><a class="header" href="#why-nix">Why Nix?</a></h3>
<p>Nix provides <strong>reproducible builds</strong> - the exact same tools and versions on every machine:</p>
<ol>
<li><strong>Pinned toolchain</strong>: Rust 1.89.0 (MSRV) is locked via <code>flake.lock</code></li>
<li><strong>All CI tools included</strong>: just, cargo-nextest, cargo-audit, gh, etc.</li>
<li><strong>Cross-platform</strong>: Works on Linux, macOS, and WSL</li>
<li><strong>No system pollution</strong>: Tools donâ€™t affect your global environment</li>
</ol>
<h3 id="available-nix-commands"><a class="header" href="#available-nix-commands">Available Nix Commands</a></h3>
<pre><code class="language-bash"># Enter development shell (primary workflow)
nix develop

# Run checks in Nix sandbox (fast, no network)
nix flake check

# Build the perl-lsp binary
nix build

# Run the LSP server
nix run

# Enter minimal CI shell (for CI runners)
nix develop .#ci
</code></pre>
<h3 id="nix-flake-checks"><a class="header" href="#nix-flake-checks">Nix Flake Checks</a></h3>
<p>The <code>nix flake check</code> command runs these gates in the Nix sandbox:</p>
<div class="table-wrapper"><table><thead><tr><th>Check</th><th>Description</th><th>Duration</th></tr></thead><tbody>
<tr><td><code>format</code></td><td><code>cargo fmt --check</code></td><td>~5s</td></tr>
<tr><td><code>clippy-lib</code></td><td>Clippy on libraries</td><td>~30-60s</td></tr>
<tr><td><code>clippy-prod-no-unwrap</code></td><td>No panic-prone code</td><td>~20-30s</td></tr>
<tr><td><code>test-lib</code></td><td>Library tests</td><td>~1-2min</td></tr>
<tr><td><code>wasm-check</code></td><td>WASM32 compilation</td><td>~30s</td></tr>
<tr><td><code>policy</code></td><td>ExitStatus policy</td><td>~5s</td></tr>
<tr><td><code>no-nested-lock</code></td><td>Lockfile hygiene</td><td>~2s</td></tr>
</tbody></table>
</div>
<p><strong>Note</strong>: <code>nix flake check</code> runs in a sandbox without network access. For full CI simulation (including tests that need network), use:</p>
<pre><code class="language-bash">nix develop -c just ci-gate
</code></pre>
<h3 id="canonical-pre-push-command"><a class="header" href="#canonical-pre-push-command">Canonical Pre-Push Command</a></h3>
<p>The <strong>single source of truth</strong> for local validation:</p>
<pre><code class="language-bash">nix develop -c just ci-gate
</code></pre>
<p>This mirrors what CI runs and is the REQUIRED command before pushing.</p>
<h3 id="basic-validation"><a class="header" href="#basic-validation">Basic Validation</a></h3>
<p><strong>Canonical local gate (REQUIRED before push):</strong></p>
<pre><code class="language-bash"># With Nix (recommended)
nix develop -c just ci-gate

# Without Nix
just ci-gate
</code></pre>
<p>This runs the <strong>fast merge gate</strong> (~2-5 minutes) that validates:</p>
<ul>
<li>Code formatting</li>
<li>Clippy lints (library only)</li>
<li>Core library tests</li>
<li>Policy compliance</li>
<li>LSP semantic definition tests</li>
<li>Parser feature coverage</li>
</ul>
<p><strong>Full validation (RECOMMENDED for large changes):</strong></p>
<pre><code class="language-bash"># With Nix
nix develop -c just ci-full

# Without Nix
just ci-full
</code></pre>
<p>This runs the <strong>full CI pipeline</strong> (~10-20 minutes) including:</p>
<ul>
<li>All clippy lints (all targets)</li>
<li>Core tests (libraries + binaries)</li>
<li>LSP integration tests (thread-constrained)</li>
<li>Documentation build</li>
</ul>
<hr />
<h2 id="gate-tiers"><a class="header" href="#gate-tiers">Gate Tiers</a></h2>
<h3 id="tier-a-merge-gate-required"><a class="header" href="#tier-a-merge-gate-required">Tier A: Merge Gate (REQUIRED)</a></h3>
<p><strong>Command:</strong> <code>just ci-gate</code>
<strong>Duration:</strong> ~2-5 minutes
<strong>Purpose:</strong> Fast feedback for every commit</p>
<p><strong>What it checks:</strong></p>
<ol>
<li>
<p><strong>Code formatting</strong> (<code>cargo fmt --check</code>)</p>
<ul>
<li>Ensures consistent style</li>
<li>Fast fail: runs in &lt;5 seconds</li>
</ul>
</li>
<li>
<p><strong>Clippy lints - Libraries</strong> (<code>cargo clippy --workspace --lib</code>)</p>
<ul>
<li>Catches common mistakes</li>
<li>Runs on library code only (faster than full check)</li>
<li>Enforces <code>-D warnings</code> (all warnings are errors)</li>
<li>Allows <code>-A missing_docs</code> during systematic resolution</li>
</ul>
</li>
<li>
<p><strong>Library tests</strong> (<code>cargo test --workspace --lib</code>)</p>
<ul>
<li>Fast, essential tests</li>
<li>Runs in ~1-2 minutes</li>
<li>Uses <code>--locked</code> to ensure Cargo.lock consistency</li>
</ul>
</li>
<li>
<p><strong>Production panic safety</strong> (<code>clippy-prod-no-unwrap</code>)</p>
<ul>
<li>Enforces no <code>.unwrap()</code> or <code>.expect()</code> in production code</li>
<li>Prevents panic-prone code in shipped binaries (Issue #143)</li>
<li>Only checks <code>--lib</code> and <code>--bins</code>, excludes tests</li>
<li>Uses <code>--no-deps</code> to check workspace code only</li>
</ul>
</li>
<li>
<p><strong>Policy compliance</strong></p>
<ul>
<li>Checks for direct <code>ExitStatus::from_raw()</code> usage</li>
<li>Validates CURRENT_STATUS.md metrics are up-to-date</li>
<li>Enforces missing docs baseline (ratcheting down)</li>
</ul>
</li>
<li>
<p><strong>LSP semantic definition tests</strong> (<code>just ci-lsp-def</code>)</p>
<ul>
<li>Semantic-aware go-to-definition validation</li>
<li>Resource-efficient mode: <code>RUST_TEST_THREADS=1 CARGO_BUILD_JOBS=1</code></li>
<li>Critical for LSP correctness</li>
</ul>
</li>
<li>
<p><strong>Parser feature coverage</strong> (<code>just ci-parser-features-check</code>)</p>
<ul>
<li>Baseline enforcement for parse error count</li>
<li>Prevents parser regressions</li>
<li>Validates against corpus</li>
</ul>
</li>
</ol>
<p><strong>Why Tier A matters:</strong></p>
<ul>
<li>Blocks all merges to main/master</li>
<li>Must pass before creating pull requests</li>
<li>Pre-push hook runs this automatically</li>
</ul>
<h3 id="tier-b-release-confidence-recommended"><a class="header" href="#tier-b-release-confidence-recommended">Tier B: Release Confidence (RECOMMENDED)</a></h3>
<p><strong>Command:</strong> <code>just ci-full</code>
<strong>Duration:</strong> ~10-20 minutes
<strong>Purpose:</strong> Comprehensive validation before releases</p>
<p><strong>Additional checks beyond Tier A:</strong></p>
<ol>
<li>
<p><strong>Full clippy</strong> (<code>cargo clippy --workspace --all-targets</code>)</p>
<ul>
<li>Includes tests, benches, examples</li>
<li>More thorough than library-only check</li>
</ul>
</li>
<li>
<p><strong>Core tests</strong> (<code>cargo test --workspace --lib --bins</code>)</p>
<ul>
<li>Libraries + binaries</li>
<li>More comprehensive than library-only</li>
</ul>
</li>
<li>
<p><strong>LSP integration tests</strong> (<code>just ci-test-lsp</code>)</p>
<ul>
<li>Full LSP protocol validation</li>
<li>Adaptive threading: <code>RUST_TEST_THREADS=2 --test-threads=2</code></li>
<li>Tests workspace navigation, cross-file features</li>
<li>Validates incremental parsing (&lt;1ms updates)</li>
</ul>
</li>
<li>
<p><strong>Documentation build</strong> (<code>just ci-docs</code>)</p>
<ul>
<li>Ensures docs compile without errors</li>
<li>Catches broken doc links</li>
<li>Validates examples in doc comments</li>
</ul>
</li>
</ol>
<p><strong>When to use Tier B:</strong></p>
<ul>
<li>Large refactorings</li>
<li>Parser changes affecting LSP</li>
<li>Before creating release tags</li>
<li>After enabling ignored tests</li>
</ul>
<h3 id="tier-c-manual-smoke-test-as-needed"><a class="header" href="#tier-c-manual-smoke-test-as-needed">Tier C: Manual Smoke Test (As Needed)</a></h3>
<p><strong>Duration:</strong> ~5-10 minutes
<strong>Purpose:</strong> Real-world editor integration verification</p>
<p><strong>Manual testing checklist:</strong></p>
<pre><code class="language-bash"># 1. Build release binary
cargo build -p perl-lsp --release

# 2. Test LSP server health
./target/release/perl-lsp --version

# 3. Editor integration (choose your editor)
# - VS Code: Open a Perl file, verify:
#   - Syntax highlighting works
#   - Go-to-definition (Ctrl+Click)
#   - Hover shows documentation
#   - Completion suggestions appear
# - Neovim: Similar verification
# - Helix: Similar verification

# 4. Corpus parsing validation
cargo run -p xtask -- corpus-audit --fresh

# 5. Benchmark smoke test (optional)
cargo bench -p perl-parser --bench parse_benchmark -- --quick
</code></pre>
<p><strong>When to use Tier C:</strong></p>
<ul>
<li>Before releases</li>
<li>After LSP protocol changes</li>
<li>After parser architecture changes</li>
<li>Suspected editor-specific issues</li>
</ul>
<hr />
<h2 id="pre-push-hook"><a class="header" href="#pre-push-hook">Pre-Push Hook</a></h2>
<h3 id="installation"><a class="header" href="#installation">Installation</a></h3>
<pre><code class="language-bash"># Install the pre-push hook
bash scripts/install-githooks.sh
</code></pre>
<p>This creates <code>.git/hooks/pre-push</code> that runs <code>nix develop -c just ci-gate</code> (or <code>just ci-gate</code> if Nix is unavailable).</p>
<h3 id="what-it-checks"><a class="header" href="#what-it-checks">What It Checks</a></h3>
<p>The pre-push hook automatically runs Tier A (merge gate) before every push:</p>
<pre><code>ğŸšª Running local gate before push: nix develop -c just ci-gate
   (Skip with: git push --no-verify)

ğŸ“ Checking code formatting...
âœ… Format check passed

ğŸ” Running clippy (libraries only)...
âœ… Clippy (lib) passed

ğŸ§ª Running library tests...
âœ… Library tests passed

ğŸ”’ Enforcing no unwrap/expect in production code...
âœ… Production code is panic-safe (no unwrap/expect)

ğŸ“‹ Running policy checks...
âœ… Policy checks passed

ğŸ” Running LSP semantic definition tests...
âœ… LSP semantic definition tests passed

ğŸ” Checking parser features baseline...
âœ… Parser features baseline maintained

âœ… Merge gate passed!
</code></pre>
<h3 id="bypassing-the-hook"><a class="header" href="#bypassing-the-hook">Bypassing the Hook</a></h3>
<p><strong>When to bypass:</strong></p>
<ul>
<li>Emergency hotfixes (with caution)</li>
<li>WIP branches that intentionally break tests</li>
<li>Documentation-only changes (though hook is fast enough to run anyway)</li>
</ul>
<p><strong>How to bypass:</strong></p>
<pre><code class="language-bash"># Skip pre-push hook
git push --no-verify

# Or use the environment variable
SKIP_PREPUSH=1 git push
</code></pre>
<p><strong>Warning:</strong> Only bypass if you understand the risks. Broken commits on main/master affect everyone.</p>
<hr />
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="common-issues"><a class="header" href="#common-issues">Common Issues</a></h3>
<h4 id="issue-just-command-not-found"><a class="header" href="#issue-just-command-not-found">Issue: <code>just: command not found</code></a></h4>
<p><strong>Problem:</strong> The <code>just</code> command runner is not installed.</p>
<p><strong>Solution:</strong></p>
<pre><code class="language-bash"># Install just
cargo install just

# Or via package manager
# macOS:
brew install just

# Arch Linux:
pacman -S just

# Ubuntu/Debian:
snap install --edge --classic just
</code></pre>
<h4 id="issue-nix-command-not-found"><a class="header" href="#issue-nix-command-not-found">Issue: <code>nix: command not found</code></a></h4>
<p><strong>Problem:</strong> Nix is not installed, but youâ€™re trying to run <code>nix develop</code>.</p>
<p><strong>Solution 1:</strong> Install Nix (recommended):</p>
<pre><code class="language-bash">curl --proto '=https' --tlsv1.2 -sSf -L https://install.determinate.systems/nix | sh -s -- install
</code></pre>
<p><strong>Solution 2:</strong> Run without Nix:</p>
<pre><code class="language-bash">just ci-gate  # Works without Nix if Rust toolchain is installed
</code></pre>
<h4 id="issue-error-failed-to-run-custom-build-command-for-perl-lsp"><a class="header" href="#issue-error-failed-to-run-custom-build-command-for-perl-lsp">Issue: <code>error: failed to run custom build command for perl-lsp</code></a></h4>
<p><strong>Problem:</strong> Missing system dependencies (usually OpenSSL).</p>
<p><strong>Solution:</strong></p>
<pre><code class="language-bash"># macOS:
brew install openssl pkg-config

# Ubuntu/Debian:
sudo apt-get install libssl-dev pkg-config

# Fedora:
sudo dnf install openssl-devel pkg-config

# Arch:
sudo pacman -S openssl pkg-config
</code></pre>
<h4 id="issue-tests-fail-with-address-already-in-use"><a class="header" href="#issue-tests-fail-with-address-already-in-use">Issue: Tests fail with â€œAddress already in useâ€</a></h4>
<p><strong>Problem:</strong> LSP tests try to bind to the same port simultaneously.</p>
<p><strong>Solution:</strong> This is why we use <code>RUST_TEST_THREADS=2</code>:</p>
<pre><code class="language-bash"># LSP tests are already thread-constrained in justfile
just ci-test-lsp

# If running manually:
RUST_TEST_THREADS=2 cargo test -p perl-lsp -- --test-threads=2
</code></pre>
<h4 id="issue-error-could-not-find-cargotoml"><a class="header" href="#issue-error-could-not-find-cargotoml">Issue: <code>error: could not find Cargo.toml</code></a></h4>
<p><strong>Problem:</strong> Running commands from wrong directory.</p>
<p><strong>Solution:</strong></p>
<pre><code class="language-bash"># Always run from repository root
cd /path/to/perl-lsp
just ci-gate
</code></pre>
<h4 id="issue-nested-cargolock-detected"><a class="header" href="#issue-nested-cargolock-detected">Issue: Nested <code>Cargo.lock</code> detected</a></h4>
<p><strong>Problem:</strong> Running cargo commands from subdirectory created nested lockfile.</p>
<p><strong>Solution:</strong></p>
<pre><code class="language-bash"># Remove nested lockfiles
find . -name 'Cargo.lock' -not -path './Cargo.lock' -delete

# Always run from repo root
cd /path/to/perl-lsp
just ci-gate
</code></pre>
<p>The merge gate includes <code>ci-check-no-nested-lock</code> to catch this automatically.</p>
<h3 id="threading-configuration"><a class="header" href="#threading-configuration">Threading Configuration</a></h3>
<p>LSP tests use <strong>adaptive threading</strong> to prevent resource exhaustion:</p>
<pre><code class="language-bash"># Standard threading (may fail on CI runners)
cargo test -p perl-lsp

# Adaptive threading (recommended)
RUST_TEST_THREADS=2 cargo test -p perl-lsp -- --test-threads=2
</code></pre>
<p><strong>Environment variables:</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Variable</th><th>Value</th><th>Purpose</th></tr></thead><tbody>
<tr><td><code>RUST_TEST_THREADS</code></td><td><code>1</code></td><td>Semantic definition tests (memory-intensive)</td></tr>
<tr><td><code>RUST_TEST_THREADS</code></td><td><code>2</code></td><td>LSP integration tests (adaptive)</td></tr>
<tr><td><code>CARGO_BUILD_JOBS</code></td><td><code>1</code></td><td>Semantic definition build (reduces memory)</td></tr>
<tr><td><code>RUSTC_WRAPPER</code></td><td><code>""</code></td><td>Disable rustc wrapper for semantic tests</td></tr>
</tbody></table>
</div>
<p>These are already configured in <code>justfile</code> recipes.</p>
<h3 id="nix-shell-issues"><a class="header" href="#nix-shell-issues">Nix Shell Issues</a></h3>
<h4 id="issue-nix-flake-evaluation-fails"><a class="header" href="#issue-nix-flake-evaluation-fails">Issue: Nix flake evaluation fails</a></h4>
<p><strong>Problem:</strong> <code>nix flake check</code> fails due to sandbox blocking network access.</p>
<p><strong>Solution:</strong> Use <code>nix develop -c just ci-gate</code> instead:</p>
<pre><code class="language-bash"># DON'T use this (sandbox blocks Cargo network access)
nix flake check

# DO use this (runs commands in shell with network access)
nix develop -c just ci-gate
</code></pre>
<h4 id="issue-nix-builds-are-slow"><a class="header" href="#issue-nix-builds-are-slow">Issue: Nix builds are slow</a></h4>
<p><strong>Problem:</strong> First build takes a long time as Nix builds everything from source.</p>
<p><strong>Solution:</strong> This is expected for first build. Subsequent builds are cached:</p>
<pre><code class="language-bash"># First build: ~10-20 minutes
nix develop -c just ci-gate

# Subsequent builds: ~2-5 minutes (cached)
nix develop -c just ci-gate
</code></pre>
<p>To speed up development, use <code>just ci-gate</code> outside Nix shell for iteration.</p>
<hr />
<h2 id="advanced-usage"><a class="header" href="#advanced-usage">Advanced Usage</a></h2>
<h3 id="running-individual-gates"><a class="header" href="#running-individual-gates">Running Individual Gates</a></h3>
<pre><code class="language-bash"># Just format check
just ci-format

# Just clippy (libraries only)
just ci-clippy-lib

# Just clippy (all targets)
just ci-clippy

# Just library tests
just ci-test-lib

# Just LSP tests
just ci-test-lsp

# Just LSP semantic tests
just ci-lsp-def

# Just policy checks
just ci-policy

# Just panic safety check
just clippy-prod-no-unwrap

# Just parser features check
just ci-parser-features-check
</code></pre>
<h3 id="msrv-validation"><a class="header" href="#msrv-validation">MSRV Validation</a></h3>
<p>Validate against Minimum Supported Rust Version (1.89.0):</p>
<pre><code class="language-bash"># Fast merge gate on MSRV
just ci-gate-msrv

# Full CI on MSRV
just ci-full-msrv

# Or manually
RUSTUP_TOOLCHAIN=1.89.0 just ci-gate
</code></pre>
<h3 id="cost-estimation"><a class="header" href="#cost-estimation">Cost Estimation</a></h3>
<p>Estimate GitHub Actions costs locally:</p>
<pre><code class="language-bash"># Run full local pipeline and time it
time just ci-full

# GitHub Actions runner costs:
# - Ubuntu: ~$0.008/minute
# - Windows: ~$0.016/minute
# - macOS: ~$0.08/minute (10x more expensive!)

# Example: 10-minute CI run
# - Ubuntu: $0.08 per PR
# - Windows: $0.16 per PR
# Total: ~$0.24 per PR for essential jobs
</code></pre>
<h3 id="checking-test-count-baseline"><a class="header" href="#checking-test-count-baseline">Checking Test Count Baseline</a></h3>
<pre><code class="language-bash"># Show ignored test breakdown by category
bash scripts/ignored-test-count.sh

# Expected output categories:
# - BUG: Parser bugs (target: 0)
# - IMPLEMENTATION: Features not yet implemented
# - FEATURE: Feature-gated tests (stress, extras)
# - MANUAL: Requires human intervention
# - SKIP: Tests to skip (performance, known issues)
</code></pre>
<h3 id="health-metrics"><a class="header" href="#health-metrics">Health Metrics</a></h3>
<pre><code class="language-bash"># Quick health overview
just health

# Detailed file-by-file breakdown
just health-detail

# Status verification (CURRENT_STATUS.md consistency)
just status-check

# Update computed metrics
just status-update
</code></pre>
<h3 id="workflow-audit"><a class="header" href="#workflow-audit">Workflow Audit</a></h3>
<pre><code class="language-bash"># Audit workflows for ungated expensive jobs
just ci-workflow-audit

# This checks for:
# - Missing concurrency cancellation
# - Missing path-ignore filters
# - Expensive jobs without label gates
# - Redundant test executions
</code></pre>
<hr />
<h2 id="ci-pipeline-architecture"><a class="header" href="#ci-pipeline-architecture">CI Pipeline Architecture</a></h2>
<h3 id="gate-flow"><a class="header" href="#gate-flow">Gate Flow</a></h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Developer Workstation (Local-First)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”œâ”€â–º just ci-gate (~2-5 min)
             â”‚   â”œâ”€ Format check
             â”‚   â”œâ”€ Clippy (lib)
             â”‚   â”œâ”€ Library tests
             â”‚   â”œâ”€ Panic safety check
             â”‚   â”œâ”€ Policy checks
             â”‚   â”œâ”€ LSP semantic tests
             â”‚   â””â”€ Parser features check
             â”‚
             â”œâ”€â–º just ci-full (~10-20 min)
             â”‚   â”œâ”€ All ci-gate checks
             â”‚   â”œâ”€ Full clippy
             â”‚   â”œâ”€ Core tests (lib + bins)
             â”‚   â”œâ”€ LSP integration tests
             â”‚   â””â”€ Documentation build
             â”‚
             â””â”€â–º git push
                 â”œâ”€ Pre-push hook runs ci-gate
                 â””â”€ GitHub Actions (confirmation)
                     â”œâ”€ Default lane (every PR)
                     â””â”€ Label-gated lanes (opt-in)
</code></pre>
<h3 id="test-lanes"><a class="header" href="#test-lanes">Test Lanes</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Lane</th><th>Trigger</th><th>Cost</th><th>Purpose</th></tr></thead><tbody>
<tr><td><strong>Core</strong></td><td>Every PR</td><td>Low</td><td>Format, clippy, essential tests</td></tr>
<tr><td><strong>LSP</strong></td><td>Code changes</td><td>Medium</td><td>LSP integration tests</td></tr>
<tr><td><strong>Stress</strong></td><td><code>ci:stress</code> label</td><td>High</td><td>Long-running stability tests</td></tr>
<tr><td><strong>Extras</strong></td><td><code>ci:extras</code> label</td><td>Medium</td><td>Optional LSP features</td></tr>
<tr><td><strong>Mutation</strong></td><td><code>ci:mutation</code> label</td><td>Very High</td><td>Mutation testing (~15-30 min)</td></tr>
<tr><td><strong>Benchmark</strong></td><td><code>ci:bench</code> label</td><td>High</td><td>Performance benchmarks</td></tr>
<tr><td><strong>Coverage</strong></td><td><code>ci:coverage</code> label</td><td>High</td><td>Code coverage analysis</td></tr>
</tbody></table>
</div>
<h3 id="concurrency-controls"><a class="header" href="#concurrency-controls">Concurrency Controls</a></h3>
<p>All workflows include concurrency cancellation to prevent wasted CI runs:</p>
<pre><code class="language-yaml">concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true
</code></pre>
<p><strong>Impact:</strong> Push 5 times in a row, only pay for the last run.</p>
<h3 id="path-filters"><a class="header" href="#path-filters">Path Filters</a></h3>
<p>Most workflows skip on documentation-only changes:</p>
<pre><code class="language-yaml">paths-ignore:
  - 'docs/**'
  - '**/*.md'
  - '.claude/**'
</code></pre>
<p><strong>Impact:</strong> Documentation updates donâ€™t burn CI minutes.</p>
<hr />
<h2 id="nix-configuration-architecture"><a class="header" href="#nix-configuration-architecture">Nix Configuration Architecture</a></h2>
<h3 id="flakenix-structure"><a class="header" href="#flakenix-structure">flake.nix Structure</a></h3>
<p>The Nix flake provides reproducible development environments and CI checks:</p>
<pre><code>flake.nix
â”œâ”€â”€ inputs
â”‚   â”œâ”€â”€ nixpkgs (pinned via flake.lock)
â”‚   â”œâ”€â”€ rust-overlay (Rust toolchain management)
â”‚   â””â”€â”€ flake-utils (cross-platform helpers)
â”‚
â”œâ”€â”€ devShells
â”‚   â”œâ”€â”€ default      # Full dev environment with all tools
â”‚   â””â”€â”€ ci           # Minimal CI shell (no optional tools)
â”‚
â”œâ”€â”€ checks           # Run via: nix flake check
â”‚   â”œâ”€â”€ format               # cargo fmt --check
â”‚   â”œâ”€â”€ clippy-lib           # Clippy on libraries
â”‚   â”œâ”€â”€ clippy-prod-no-unwrap # No unwrap/expect in production
â”‚   â”œâ”€â”€ test-lib             # Library tests
â”‚   â”œâ”€â”€ wasm-check           # WASM32 compilation
â”‚   â”œâ”€â”€ policy               # ExitStatus policy
â”‚   â””â”€â”€ no-nested-lock       # Lockfile hygiene
â”‚
â”œâ”€â”€ packages
â”‚   â””â”€â”€ perl-lsp     # Built LSP server binary
â”‚
â””â”€â”€ apps
    â”œâ”€â”€ default      # Run perl-lsp
    â””â”€â”€ ci-simulate  # Run CI simulation
</code></pre>
<h3 id="reproducibility-guarantees"><a class="header" href="#reproducibility-guarantees">Reproducibility Guarantees</a></h3>
<ol>
<li>
<p><strong>Rust Version Pinning</strong></p>
<ul>
<li>MSRV 1.89.0 is specified in <code>flake.nix</code></li>
<li>Also enforced via <code>rust-toolchain.toml</code></li>
<li>CI workflows use the same version</li>
</ul>
</li>
<li>
<p><strong>Dependency Pinning</strong></p>
<ul>
<li><code>flake.lock</code> pins nixpkgs and rust-overlay</li>
<li><code>Cargo.lock</code> pins Rust dependencies</li>
<li>Together, these ensure identical builds</li>
</ul>
</li>
<li>
<p><strong>Tool Versions</strong></p>
<ul>
<li>All CI tools come from pinned nixpkgs</li>
<li>No system-installed tools are used</li>
<li>Same versions on Linux, macOS, WSL</li>
</ul>
</li>
</ol>
<h3 id="updating-pinned-versions"><a class="header" href="#updating-pinned-versions">Updating Pinned Versions</a></h3>
<pre><code class="language-bash"># Update all flake inputs to latest
nix flake update

# Update only nixpkgs
nix flake update nixpkgs

# Update only rust-overlay
nix flake update rust-overlay

# After updating, run checks
nix flake check
nix develop -c just ci-gate
</code></pre>
<h3 id="platform-specific-considerations"><a class="header" href="#platform-specific-considerations">Platform-Specific Considerations</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Platform</th><th>Notes</th></tr></thead><tbody>
<tr><td>Linux</td><td>Full support, all features</td></tr>
<tr><td>macOS</td><td>Requires Darwin frameworks for OpenSSL</td></tr>
<tr><td>WSL</td><td>Use <code>nix develop</code> not native Windows</td></tr>
<tr><td>Windows</td><td>Not supported (use WSL)</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<h3 id="daily-development"><a class="header" href="#daily-development">Daily Development</a></h3>
<pre><code class="language-bash"># Standard workflow
1. Make changes
2. Run: just ci-gate
3. If passing, commit and push
4. Pre-push hook validates again
5. GitHub Actions confirms
</code></pre>
<h3 id="large-refactorings"><a class="header" href="#large-refactorings">Large Refactorings</a></h3>
<pre><code class="language-bash"># Recommended workflow
1. Make changes
2. Run: just ci-full
3. Run manual smoke test (Tier C)
4. If passing, commit and push
5. Add ci:stress label for stress tests
6. Monitor GitHub Actions for cross-platform issues
</code></pre>
<h3 id="before-releases"><a class="header" href="#before-releases">Before Releases</a></h3>
<pre><code class="language-bash"># Release validation
1. Run: just ci-full
2. Run: just ci-full-msrv (validate MSRV)
3. Run manual smoke test with editors
4. Run: cargo run -p xtask -- corpus-audit --fresh
5. Check: bash scripts/ignored-test-count.sh
6. Verify: just status-check
7. Tag release
</code></pre>
<h3 id="cost-conscious-development"><a class="header" href="#cost-conscious-development">Cost-Conscious Development</a></h3>
<pre><code class="language-bash"># Minimize CI costs
1. Always run ci-gate locally before pushing
2. Use pre-push hook (automatic)
3. Only add expensive labels when needed
4. Iterate locally, confirm on GitHub Actions
5. Use concurrency cancellation (automatic)
6. Skip CI on docs-only PRs (automatic)
</code></pre>
<hr />
<h2 id="performance-benchmarks"><a class="header" href="#performance-benchmarks">Performance Benchmarks</a></h2>
<h3 id="typical-local-gate-times"><a class="header" href="#typical-local-gate-times">Typical Local Gate Times</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Stage</th><th>Duration</th><th>Notes</th></tr></thead><tbody>
<tr><td>Format check</td><td>&lt;5 seconds</td><td>Fast fail</td></tr>
<tr><td>Clippy (lib)</td><td>~30-60 seconds</td><td>Cached after first run</td></tr>
<tr><td>Library tests</td><td>~1-2 minutes</td><td>Fast, essential</td></tr>
<tr><td>Panic safety</td><td>~20-30 seconds</td><td>Production code only</td></tr>
<tr><td>Policy checks</td><td>~5-10 seconds</td><td>Lightweight</td></tr>
<tr><td>LSP semantic</td><td>~30-60 seconds</td><td>Resource-constrained</td></tr>
<tr><td>Parser features</td><td>~10-20 seconds</td><td>Baseline validation</td></tr>
<tr><td><strong>Total</strong></td><td><strong>~2-5 minutes</strong></td><td>Full merge gate</td></tr>
</tbody></table>
</div>
<h3 id="typical-full-pipeline-times"><a class="header" href="#typical-full-pipeline-times">Typical Full Pipeline Times</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Stage</th><th>Duration</th><th>Notes</th></tr></thead><tbody>
<tr><td>ci-gate</td><td>~2-5 minutes</td><td>See above</td></tr>
<tr><td>Full clippy</td><td>~1-2 minutes</td><td>All targets</td></tr>
<tr><td>Core tests</td><td>~2-3 minutes</td><td>Lib + bins</td></tr>
<tr><td>LSP integration</td><td>~2-4 minutes</td><td>Thread-constrained</td></tr>
<tr><td>Documentation</td><td>~1-2 minutes</td><td>No deps</td></tr>
<tr><td><strong>Total</strong></td><td><strong>~10-20 minutes</strong></td><td>Full CI pipeline</td></tr>
</tbody></table>
</div>
<h3 id="ci-cost-estimates"><a class="header" href="#ci-cost-estimates">CI Cost Estimates</a></h3>
<p>Based on GitHub Actions pricing (as of 2025):</p>
<pre><code>Essential jobs per PR (Ubuntu + Windows):
- Format check:     ~$0.01
- Clippy:           ~$0.02
- Core tests:       ~$0.03
- LSP tests:        ~$0.02
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total:              ~$0.06-0.08 per PR

With concurrency cancellation:
- 5 pushes = 1 billable run = $0.06-0.08
- Without cancellation: $0.30-0.40 (5x more!)

Annual savings (Issue #211 target):
- CI optimization: $720/year
</code></pre>
<hr />
<h2 id="nix-troubleshooting"><a class="header" href="#nix-troubleshooting">Nix Troubleshooting</a></h2>
<h3 id="common-nix-issues"><a class="header" href="#common-nix-issues">Common Nix Issues</a></h3>
<h4 id="issue-nix-flake-check-fails-with-network-errors"><a class="header" href="#issue-nix-flake-check-fails-with-network-errors">Issue: <code>nix flake check</code> fails with network errors</a></h4>
<p><strong>Problem:</strong> Nix sandbox blocks network access during checks.</p>
<p><strong>Solution:</strong> Use the dev shell instead:</p>
<pre><code class="language-bash"># DON'T use (sandbox blocks Cargo network):
nix flake check

# DO use (shell has network access):
nix develop -c just ci-gate
</code></pre>
<p>The <code>nix flake check</code> command is best for quick syntax validation. For full CI simulation, always use <code>nix develop -c just ci-gate</code>.</p>
<h4 id="issue-error-experimental-nix-feature-flakes-is-disabled"><a class="header" href="#issue-error-experimental-nix-feature-flakes-is-disabled">Issue: <code>error: experimental Nix feature 'flakes' is disabled</code></a></h4>
<p><strong>Problem:</strong> Flakes are not enabled in your Nix configuration.</p>
<p><strong>Solution:</strong></p>
<pre><code class="language-bash"># Option 1: Add to ~/.config/nix/nix.conf
echo "experimental-features = nix-command flakes" &gt;&gt; ~/.config/nix/nix.conf

# Option 2: Use --experimental-features flag
nix --experimental-features 'nix-command flakes' develop
</code></pre>
<h4 id="issue-rust-version-mismatch"><a class="header" href="#issue-rust-version-mismatch">Issue: Rust version mismatch</a></h4>
<p><strong>Problem:</strong> Local rustc differs from Nix-provided version.</p>
<p><strong>Solution:</strong> Always run commands inside <code>nix develop</code>:</p>
<pre><code class="language-bash"># Wrong (uses system Rust):
just ci-gate

# Correct (uses Nix Rust 1.89.0):
nix develop -c just ci-gate
</code></pre>
<h4 id="issue-first-nix-develop-is-very-slow"><a class="header" href="#issue-first-nix-develop-is-very-slow">Issue: First <code>nix develop</code> is very slow</a></h4>
<p><strong>Problem:</strong> Nix is downloading and building dependencies from scratch.</p>
<p><strong>Solution:</strong> This is expected for the first run. Subsequent runs use the cache:</p>
<pre><code class="language-bash"># First run: ~5-15 minutes (downloads everything)
nix develop

# Subsequent runs: ~1-5 seconds (cached)
nix develop
</code></pre>
<p>To speed up initial setup, use the Determinate Systems installer which enables binary caches:</p>
<pre><code class="language-bash">curl --proto '=https' --tlsv1.2 -sSf -L https://install.determinate.systems/nix | sh -s -- install
</code></pre>
<h4 id="issue-cargo-mutants-takes-too-long"><a class="header" href="#issue-cargo-mutants-takes-too-long">Issue: <code>cargo-mutants</code> takes too long</a></h4>
<p><strong>Problem:</strong> Mutation testing is computationally expensive.</p>
<p><strong>Solution:</strong> Only run mutation tests when needed (use CI label):</p>
<pre><code class="language-bash"># Local quick test (skip mutation):
nix develop -c just ci-gate

# Mutation testing (only when reviewing test quality):
nix develop -c cargo mutants -p perl-parser --timeout 60
</code></pre>
<hr />
<h2 id="related-documentation"><a class="header" href="#related-documentation">Related Documentation</a></h2>
<ul>
<li><strong><a href="CI.html">CI.md</a></strong> - GitHub Actions workflow architecture</li>
<li><strong><a href="CI_TEST_LANES.html">CI_TEST_LANES.md</a></strong> - Test lane organization</li>
<li><strong><a href="../CLAUDE.html">CLAUDE.md</a></strong> - Project guidance (includes local workflow)</li>
<li><strong><a href="COMMANDS_REFERENCE.html">COMMANDS_REFERENCE.md</a></strong> - Full command catalog</li>
<li><strong><a href="COMPREHENSIVE_TESTING_GUIDE.html">COMPREHENSIVE_TESTING_GUIDE.md</a></strong> - Testing framework</li>
<li><strong><a href="THREADING_CONFIGURATION_GUIDE.html">THREADING_CONFIGURATION_GUIDE.md</a></strong> - Thread safety</li>
</ul>
<hr />
<p><strong>Last Updated:</strong> 2026-01-24
<strong>Issue:</strong> #211 (CI Pipeline Cleanup)
<strong>Status:</strong> Phase 3 - Nix-Based CI Infrastructure</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../ci/overview.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../ci/test-lanes.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../ci/overview.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../ci/test-lanes.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
