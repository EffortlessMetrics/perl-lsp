<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Roadmap - Perl LSP Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Comprehensive documentation for the perl-lsp project - a production-ready Perl Language Server Protocol implementation">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Perl LSP Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/EffortlessMetrics/tree-sitter-perl-rs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="perl-parser-project---roadmap"><a class="header" href="#perl-parser-project---roadmap">Perl Parser Project - Roadmap</a></h1>
<blockquote>
<p><strong>Canonical</strong>: This is the authoritative roadmap. See <code>CURRENT_STATUS.md</code> for computed metrics.
<strong>Stale roadmaps</strong>: Archived at <code>docs/archive/roadmaps/</code>; retrieve from git history if needed.</p>
</blockquote>
<blockquote>
<p><strong>Status (2026-02-17)</strong>: v0.9.1 close-out verification completed with receipts; v1.0.x hardening underway with native DAP preview validated.</p>
<p><strong>Canonical receipt</strong>: <code>nix develop -c just ci-gate</code> must be green before merging.
<strong>CI</strong> is intentionally optional/opt-in; the repo is local-first by design.</p>
</blockquote>
<hr />
<h2 id="truth-rules-read-this-first"><a class="header" href="#truth-rules-read-this-first">Truth Rules (read this first)</a></h2>
<p>This roadmap describes goals, but any <strong>status claim</strong> must be backed by one of:</p>
<ul>
<li><code>nix develop -c just ci-gate</code> output</li>
<li><code>bash scripts/ignored-test-count.sh</code> output</li>
<li>A tracked feature matrix / snapshot test (e.g., GA-lock capabilities snapshot)</li>
</ul>
<p>If a number is not backed by a receipt, it must be labeled <strong>UNVERIFIED</strong> or removed.</p>
<p><strong>Metrics are computed, not hand-edited.</strong> See:</p>
<ul>
<li><a href="CURRENT_STATUS.html"><code>CURRENT_STATUS.md</code></a> for LSP coverage, corpus counts, test health</li>
<li><a href="../features.toml"><code>features.toml</code></a> for canonical LSP capability definitions</li>
<li><code>just status-check</code> to verify derived metrics haven’t drifted</li>
</ul>
<p><strong>Last verified</strong>: Run <code>just ci-gate</code> to get current verification status.</p>
<hr />
<h2 id="current-state-v090--v091"><a class="header" href="#current-state-v090--v091">Current State (v0.9.0 → v0.9.1)</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Component</th><th>Release Stance</th><th>Evidence</th><th>Notes</th></tr></thead><tbody>
<tr><td><strong>perl-parser</strong> (v3)</td><td>Production</td><td><code>just ci-gate</code></td><td>Parser v3, statement tracker + heredocs in place</td></tr>
<tr><td><strong>perl-lexer</strong></td><td>Production</td><td><code>just ci-gate</code></td><td>Tokenization stable</td></tr>
<tr><td><strong>perl-corpus</strong></td><td>Production</td><td><code>just ci-gate</code></td><td>Regression corpus + mutation hardening inputs</td></tr>
<tr><td><strong>perl-lsp</strong></td><td>Production (advertised subset)</td><td>capability snapshots + targeted tests</td><td>Advertise only what’s tested; keep GA-lock stable</td></tr>
<tr><td><strong>perl-dap</strong></td><td>Preview (Native + Bridge)</td><td><code>cargo test -p perl-dap --features dap-phase2,dap-phase3</code></td><td>Native adapter implemented (breakpoints/control-flow/attach paths) with BridgeAdapter interoperability fallback</td></tr>
<tr><td><strong>perl-parser-pest</strong> (v2)</td><td>Legacy</td><td>N/A</td><td>Optional crate; keep out of default gate</td></tr>
<tr><td><strong>Semantic Analyzer</strong></td><td>Phase 2-6 Complete</td><td><code>just ci-gate</code></td><td>All NodeKind handlers; full semantic analysis pipeline</td></tr>
</tbody></table>
</div>
<p><em>Only features that pass <code>ci-gate</code> or have targeted integration tests count as “Production”.</em></p>
<hr />
<h2 id="now--next--later-summary"><a class="header" href="#now--next--later-summary">Now / Next / Later (Summary)</a></h2>
<p><strong>Now (post v0.9.1 close-out)</strong></p>
<ul>
<li>Keep close-out receipts green (<code>just ci-gate</code>, targeted state-machine tests, benchmark checks)</li>
<li>Publish benchmark outputs under <code>benchmarks/results/</code> for durable v1.0.x evidence</li>
</ul>
<p><strong>Next (v1.0.0)</strong></p>
<ul>
<li>Stability statement (GA-lock + versioning rules)</li>
<li>Packaging stance (what ships; supported platforms)</li>
<li>Benchmark publication with receipts under <code>benchmarks/results/</code> (in progress)</li>
<li>Upgrade notes from v0.8.x → v1.0</li>
</ul>
<p><strong>Later (post v1.0)</strong></p>
<ul>
<li>DAP preview -&gt; GA hardening (deeper variables/evaluate fidelity, shim distribution strategy, cross-editor receipts)</li>
<li>Full LSP 3.18 compliance</li>
<li>Package manager distribution (Homebrew/apt/etc.)</li>
</ul>
<hr />
<h2 id="component-summary"><a class="header" href="#component-summary">Component Summary</a></h2>
<p>For current metrics (LSP coverage %, corpus counts, test pass rates), see <a href="CURRENT_STATUS.html">CURRENT_STATUS.md</a>.</p>
<div class="table-wrapper"><table><thead><tr><th>Crate</th><th>Version</th><th>Status</th><th>Purpose</th></tr></thead><tbody>
<tr><td><strong>perl-parser</strong></td><td>v0.8.8</td><td>Production</td><td>Main parser library</td></tr>
<tr><td><strong>perl-lsp</strong></td><td>v0.8.8</td><td>Production</td><td>LSP server (see <code>features.toml</code> for GA coverage)</td></tr>
<tr><td><strong>perl-lexer</strong></td><td>v0.8.8</td><td>Production</td><td>Context-aware tokenizer</td></tr>
<tr><td><strong>perl-corpus</strong></td><td>v0.8.8</td><td>Production</td><td>Test corpus (see <code>just status-check</code> for counts)</td></tr>
<tr><td><strong>perl-dap</strong></td><td>v0.1.0</td><td>Preview (Native + Bridge)</td><td>Debug Adapter Protocol (native preview adapter + BridgeAdapter compatibility path)</td></tr>
<tr><td><strong>perl-parser-pest</strong></td><td>v0.8.8</td><td>Legacy</td><td>Pest-based parser (maintained)</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="next-releases"><a class="header" href="#next-releases">Next Releases</a></h2>
<h3 id="v090-semantic-ready-milestone--release"><a class="header" href="#v090-semantic-ready-milestone--release">v0.9.0: “Semantic-Ready” Milestone — Release</a></h3>
<p><strong>Status</strong>: Released (2026-01-18)</p>
<p><strong>Goal</strong>: A release that external users can try without reading internal docs.</p>
<p><strong>Completed Deliverables</strong>:</p>
<ol>
<li>
<p><strong>Docs truth pass</strong> ✓</p>
<ul>
<li>README + CURRENT_STATUS + ROADMAP aligned on what’s real vs aspirational</li>
<li>DAP language corrected to reflect native adapter vs BridgeAdapter</li>
<li>All claims linked to computed sources or receipts</li>
<li>CI cost tracking documentation added</li>
</ul>
</li>
<li>
<p><strong>Release artifacts</strong> ✓</p>
<ul>
<li>Confirmed <code>cargo install --path crates/perl-lsp</code> works cleanly</li>
<li>Release notes match <em>advertised</em> capabilities</li>
</ul>
</li>
<li>
<p><strong>Capability contracts</strong> ✓</p>
<ul>
<li>GA-lock snapshot stable</li>
<li>New capabilities properly advertised</li>
<li>8 features promoted to GA status (completion_item_resolve, code_action_resolve, code_lens_resolve, workspace_symbol_resolve, will_rename_files, did_rename_files, did_delete_files, workspace_edit)</li>
</ul>
</li>
<li>
<p><strong>Corpus gap closure (P0)</strong> ✓</p>
<ul>
<li>Fixtures/tests for missing GA constructs</li>
<li>Boundedness tests for hang-risk inputs</li>
</ul>
</li>
<li>
<p><strong>Production Hardening</strong> ✓</p>
<ul>
<li>Issue #143 resolved: unwrap/expect enforcement in CI</li>
<li>Reduced unwrap/expect count from 512 to 377 (26% reduction)</li>
<li>Monotonic DAP sequence numbers</li>
<li>Robust base-branch detection</li>
</ul>
</li>
</ol>
<p><strong>Exit criteria</strong>:</p>
<ul>
<li><code>nix develop -c just ci-gate</code> green on MSRV ✓</li>
<li><code>bash scripts/ignored-test-count.sh</code> shows BUG=0, MANUAL≤1 ✓</li>
<li>Release notes generated ✓</li>
<li>Tag cut ✓</li>
</ul>
<p><strong>Metrics</strong> (2026-01-23):</p>
<ul>
<li><strong>LSP Coverage</strong>: 100% (53/53 advertised features from <code>features.toml</code>)</li>
<li><strong>Protocol Compliance</strong>: 100% (88/88 including plumbing)</li>
<li><strong>Test Count</strong>: 601 lib tests (discovered), 2 ignored (tracked debt: 0 bug, 1 manual)</li>
<li><strong>Parser Coverage</strong>: ~100% Perl 5 syntax</li>
<li><strong>Semantic Analyzer</strong>: Phase 2-6 complete (all NodeKind handlers)</li>
</ul>
<h3 id="v091-post-release-optimization-january-2026"><a class="header" href="#v091-post-release-optimization-january-2026">v0.9.1: Post-Release Optimization (January 2026)</a></h3>
<p><strong>Status</strong>: Close-Out Complete (receipts captured on 2026-02-16)</p>
<p><strong>Goal</strong>: Performance optimization, semantic analyzer completion, and refactoring infrastructure.</p>
<p><strong>Completed Deliverables</strong>:</p>
<ol>
<li>
<p><strong>Semantic Analyzer Phase 2-6</strong> ✓ (PR #389)</p>
<ul>
<li>Complete NodeKind coverage</li>
<li>Uninitialized variable detection (PR #396)</li>
<li>Type inference improvements</li>
</ul>
</li>
<li>
<p><strong>Refactoring Engine</strong> ✓</p>
<ul>
<li><code>perform_inline</code> implementation (PR #391)</li>
<li><code>perform_move_code</code> implementation (PR #392)</li>
<li>Complete LSP refactoring infrastructure (PR #387)</li>
</ul>
</li>
<li>
<p><strong>Performance Optimizations</strong> ✓</p>
<ul>
<li>O(1) symbol lookups (PR #336)</li>
<li>Stack-based ScopeAnalyzer (PR #383)</li>
<li>Reduced string allocations in parser (PR #367, #372, #368)</li>
</ul>
</li>
<li>
<p><strong>LSP Server Enhancements</strong> ✓</p>
<ul>
<li>TCP socket mode (PR #370)</li>
<li>Cross-file Package-&gt;method resolution (PR #375)</li>
<li>Unified position/range types</li>
</ul>
</li>
<li>
<p><strong>Security Hardening</strong> ✓</p>
<ul>
<li>Path traversal protection (PR #388)</li>
<li>Command injection hardening (PR #332)</li>
</ul>
</li>
<li>
<p><strong>DAP Improvements</strong> ✓</p>
<ul>
<li>Async BridgeAdapter with graceful shutdown (PR #369)</li>
<li>CLI argument parsing with clap (PR #374)</li>
<li>Stdio transport (PR #330)</li>
</ul>
</li>
<li>
<p><strong>Test Infrastructure</strong> ✓</p>
<ul>
<li>Comprehensive test corpus (PR #404)</li>
<li>Workspace indexing synchronization (PR #394)</li>
<li>Syntax highlighting validation (PR #397)</li>
</ul>
</li>
<li>
<p><strong>v1.0 Preparation</strong> ✓ (PR #483)</p>
<ul>
<li>Benchmark framework and documentation</li>
<li>Code quality improvements</li>
<li>Zero-allocation variable lookup (PR #473)</li>
<li>Token allocations with Arc<str> (PR #464)</li>
<li>Cached built-in function signatures (PR #467)</li>
<li>Comprehensive corpus expansion (PR #462)</li>
</ul>
</li>
<li>
<p><strong>Additional Security Hardening</strong> ✓</p>
<ul>
<li>DAP evaluate request injection prevention (PR #475)</li>
<li>Launch debugger command injection hardening (PR #463)</li>
<li>Perlcritic/perltidy argument injection prevention (PR #469)</li>
<li>Perldoc lookup injection prevention (PR #466)</li>
</ul>
</li>
<li>
<p><strong>VSCode Integration</strong> ✓</p>
<ul>
<li>Markdown descriptions and silent startup (PR #474)</li>
<li>Settings with code references (PR #468)</li>
<li>Command palette filtering for Perl files (PR #470)</li>
</ul>
</li>
</ol>
<p><strong>Close-Out Receipts</strong>:</p>
<ol>
<li>
<p><strong>Index State Machine Verification</strong> ✓</p>
<ul>
<li>Transition and instrumentation tests passed in <code>perl-workspace-index</code></li>
<li>Early-exit and transition receipts validated via targeted tests</li>
<li>Benchmarks confirm caps with large margin (<code>~368.7us</code> initial small, <code>~721.1us</code> initial medium, <code>~212.6us</code> incremental)</li>
</ul>
</li>
<li>
<p><strong>Documentation Cleanup</strong> ✓</p>
<ul>
<li><code>cargo test -p perl-parser --features doc-coverage --test missing_docs_ac_tests</code> passed (25/25)</li>
<li><code>cargo doc --no-deps -p perl-parser</code> clean (no rustdoc warnings)</li>
<li>LSP compatibility module docs and cross-links aligned to current module layout</li>
</ul>
</li>
</ol>
<p><strong>Exit criteria</strong>:</p>
<ul>
<li>Index state machine verified with receipts and benchmark caps</li>
<li><code>missing_docs</code> ratchet clean for perl-parser (baseline 0)</li>
<li>LSP coverage maintained at 100% ✓</li>
<li>Tracked test debt ≤ 2 ✓</li>
<li>Security hardening complete ✓</li>
</ul>
<hr />
<h3 id="not-before-v10"><a class="header" href="#not-before-v10">Not Before v1.0</a></h3>
<p>These items are explicitly deferred:</p>
<ul>
<li>Full LSP 3.18 compliance (see CURRENT_STATUS.md for current coverage)</li>
<li>Benchmark result publication (framework exists, results not committed)</li>
<li>Package manager distribution (Homebrew, apt, etc.)</li>
</ul>
<hr />
<h3 id="v100-boring-promises-sequence-after-v091"><a class="header" href="#v100-boring-promises-sequence-after-v091">v1.0.0: “Boring Promises” (sequence after v0.9.1)</a></h3>
<p><strong>Goal</strong>: Freeze the surfaces you’re willing to support. Close known gaps honestly.</p>
<p><strong>Deliverables</strong>:</p>
<ol>
<li>
<p><strong>Stability statement</strong></p>
<ul>
<li>What “GA-lock” means (capabilities + wire protocol invariants)</li>
<li>Versioning rules for changes</li>
</ul>
</li>
<li>
<p><strong>Packaging stance</strong></p>
<ul>
<li>What you ship (binaries? crates? both?)</li>
<li>Minimum supported platforms (explicit)</li>
</ul>
</li>
<li>
<p><strong>Benchmark publication</strong></p>
<ul>
<li>One canonical benchmark run committed under <code>benchmarks/results/</code></li>
<li>Remove “UNVERIFIED” tags where you now have receipts</li>
</ul>
</li>
<li>
<p><strong>Gap closing (honest assessment items)</strong></p>
<ul>
<li><del>Fix execute_command test failures (7 tests)</del> ✓ Fixed: workspace root security boundary was not set in integration tests</li>
<li><del>Correct <code>features.toml</code> DAP maturity levels</del> ✓ Fixed: DAP features are tracked as <code>maturity = "preview"</code> with implemented native paths</li>
<li><del>Fix <code>CURRENT_STATUS.md</code> DAP narrative</del> ✓ Fixed: now describes native preview + bridge interoperability reality</li>
<li>Add E2E LSP smoke test (send initialize→didOpen→completion→shutdown, verify responses)</li>
<li>Document Moo/Moose limitations honestly in user-facing docs</li>
</ul>
</li>
</ol>
<p><strong>Exit criteria</strong>:</p>
<ul>
<li>Capability snapshot + docs aligned</li>
<li>Benchmarks published</li>
<li>Upgrade notes exist from v0.8.x → v1.0</li>
<li>Honest assessment document (<code>docs/HONEST_ASSESSMENT.md</code>) exists and is current</li>
<li>No DAP features marked as GA in <code>features.toml</code></li>
</ul>
<hr />
<h3 id="v11-semantic-depth"><a class="header" href="#v11-semantic-depth">v1.1: Semantic Depth</a></h3>
<p><strong>Goal</strong>: Close the Moo/Moose gap — the #1 real-world limitation.</p>
<p><strong>Deliverables</strong>:</p>
<ol>
<li>
<p><strong>Moo/Moose <code>has</code> attribute recognition</strong></p>
<ul>
<li>Semantic analyzer recognizes <code>has</code> as a field declaration</li>
<li>Hover on Moo attributes shows field type, default, documentation</li>
<li>Completion inside <code>has</code> blocks suggests type constraints, <code>is</code>, <code>isa</code>, <code>default</code>, etc.</li>
</ul>
</li>
<li>
<p><strong>Class::Accessor support</strong></p>
<ul>
<li>Auto-generated accessor methods visible in completion and go-to-definition</li>
</ul>
</li>
<li>
<p><strong>Role composition tracking</strong></p>
<ul>
<li><code>with 'Role'</code> connects role methods to consuming class</li>
<li>Go-to-definition resolves role methods</li>
</ul>
</li>
</ol>
<p><strong>Exit criteria</strong>:</p>
<ul>
<li>Hover on <code>has 'name'</code> in a Moo class returns field information</li>
<li>Completion inside <code>has</code> blocks works</li>
<li><code>features.toml</code> updated with Moo/Moose semantic coverage</li>
</ul>
<hr />
<h3 id="v12-dap-preview---ga"><a class="header" href="#v12-dap-preview---ga">v1.2: DAP Preview -&gt; GA</a></h3>
<p><strong>Goal</strong>: Harden native debugging from preview to GA without requiring Perl::LanguageServer.</p>
<p><strong>Deliverables</strong>:</p>
<ol>
<li><strong>Promote preview breakpoints/inline values</strong> to GA-quality behavior and receipts</li>
<li><strong>Deep variable inspection + evaluate context</strong> in active debugger sessions</li>
<li><strong>Attach stability</strong> across PID and TCP modes with consistent stack/thread semantics</li>
<li><strong>Finalize shim/package strategy</strong> (<code>Devel::TSPerlDAP</code> or bundled equivalent) and editor defaults</li>
</ol>
<p><strong>Exit criteria</strong>:</p>
<ul>
<li>Set breakpoint, step, inspect variables, evaluate expressions — works natively with reliable receipts</li>
<li>DAP features promoted from <code>maturity = "preview"</code> to <code>maturity = "ga"</code> where warranted</li>
<li>VSCode extension debug configuration works out of the box</li>
</ul>
<hr />
<h3 id="v20-dap-phase-3--polish"><a class="header" href="#v20-dap-phase-3--polish">v2.0: DAP Phase 3 + Polish</a></h3>
<p><strong>Goal</strong>: Full debugging experience and ecosystem polish.</p>
<p><strong>Deliverables</strong>:</p>
<ol>
<li>Multi-process attach and child-process tracking</li>
<li>Watch expressions and richer evaluation UX</li>
<li>Full debug console parity + transcript conformance coverage</li>
<li>Pest parser decision: archive to <code>archive/</code> or maintain for benchmark comparison</li>
<li>Package manager distribution (Homebrew, apt, etc.)</li>
</ol>
<hr />
<h2 id="known-gaps"><a class="header" href="#known-gaps">Known Gaps</a></h2>
<blockquote>
<p>For the full honest assessment, see <a href="HONEST_ASSESSMENT.html"><code>docs/HONEST_ASSESSMENT.md</code></a>.</p>
</blockquote>
<h3 id="resolved-v091"><a class="header" href="#resolved-v091">Resolved (v0.9.1)</a></h3>
<ul>
<li><del>Corpus coverage gaps</del> ✓ Comprehensive corpus (732KB, 78 files, 611+ sections)</li>
<li><del>Hang/bounds risks</del> ✓ Budget-protected lexer, recursion limits, fuzz testing</li>
<li><del>Execute command test failures</del> ✓ Fixed workspace root security boundary</li>
</ul>
<h3 id="open-gaps"><a class="header" href="#open-gaps">Open Gaps</a></h3>
<ul>
<li><strong>DAP is preview, not GA</strong>: Native adapter now covers breakpoint/control-flow/attach foundations, but deep runtime variable/evaluate fidelity and packaging strategy still need hardening. <code>features.toml</code> keeps DAP at <code>maturity = "preview"</code>.</li>
<li><strong>Moo/Moose semantic blindness</strong>: Parser tokenizes correctly but semantic analyzer doesn’t understand <code>has</code> as field declaration. #1 real-world gap.</li>
<li><strong>No E2E LSP smoke test</strong>: All testing is unit/integration; no automated test that starts the server and sends real LSP messages end-to-end.</li>
<li><strong>Pest parser orphaned</strong>: Compiles and works but excluded from CI, not used in production, 10-100x slower than v3. Maintained for reference only.</li>
</ul>
<h3 id="known-constraints"><a class="header" href="#known-constraints">Known Constraints</a></h3>
<ul>
<li><strong>CI Pipeline</strong>: Issue #211 blocks merge-blocking gates (#210)</li>
<li><strong>DAP GA promotion</strong>: Depends on shim distribution decision and cross-editor native debugging receipts</li>
</ul>
<hr />
<h2 id="v090-blockers-historical-resolved"><a class="header" href="#v090-blockers-historical-resolved">v0.9.0 Blockers (Historical; resolved)</a></h2>
<blockquote>
<p><strong>Historical</strong>: These were the blockers before the v0.9.0 release (2026-01-18). For current blockers, see <a href="MILESTONES.html">MILESTONES.md</a>.</p>
</blockquote>
<p>These issues had to resolve before the v0.9.0 release. Listed in dependency order:</p>
<div class="table-wrapper"><table><thead><tr><th>Order</th><th>Issue</th><th>Category</th><th>Rationale</th></tr></thead><tbody>
<tr><td>1</td><td><a href="https://github.com/EffortlessMetrics/tree-sitter-perl-rs/issues/211">#211</a></td><td>Trust Surface</td><td>CI pipeline cleanup - establishes trusted baseline for enforcement</td></tr>
<tr><td>2</td><td><a href="https://github.com/EffortlessMetrics/tree-sitter-perl-rs/issues/210">#210</a></td><td>Enforcement</td><td>Merge-blocking gates - depends on #211 for clean CI foundation</td></tr>
<tr><td>3</td><td><a href="https://github.com/EffortlessMetrics/tree-sitter-perl-rs/issues/143">#143</a></td><td>Integrity</td><td>unwrap()/panic safety - can proceed in parallel with above</td></tr>
</tbody></table>
</div>
<p><strong>Dependency rationale</strong>: Trust surface (#211) must be established before enforcement (#210) can be meaningful. Without a clean CI pipeline, merge-blocking gates would be built on unreliable infrastructure. Safety cleanup (#143) is independent and can proceed in parallel with the CI/enforcement work.</p>
<hr />
<h2 id="completed-work"><a class="header" href="#completed-work">Completed Work</a></h2>
<p>See <a href="CURRENT_STATUS.html"><code>CURRENT_STATUS.md</code></a> for detailed completion history.</p>
<p><strong>Highlights:</strong></p>
<ul>
<li>Statement Tracker &amp; Heredocs (2025-11-20)</li>
<li>Semantic Analyzer Phase 1 (2025-11-20)</li>
<li>Band 1: Semantic Stack Validation (2025-12-27)</li>
<li>Semantic Analyzer Phase 2-6 Complete (2026-01-21)</li>
<li>Refactoring Engine: inline + move_code (2026-01-21)</li>
<li>O(1) Symbol Lookups Optimization (2026-01-21)</li>
<li>TCP Socket Mode for LSP Server (2026-01-21)</li>
<li>Security Hardening: path traversal + command injection (2026-01-21)</li>
<li>v1.0 Preparation: benchmarks + documentation (2026-01-23)</li>
<li>Performance: zero-allocation lookups + Arc<str> tokens (2026-01-23)</li>
<li>Security: DAP/perldoc/perlcritic injection hardening (2026-01-23)</li>
<li>VSCode: improved UX + command filtering (2026-01-23)</li>
<li>Security: Multi-root workspace path traversal fix (PR #620, 2026-01-28)</li>
<li>Performance: Scope analysis Rc cloning optimization (PR #621, 2026-01-28)</li>
<li>VSCode: Organize Imports command + Status Menu (PR #609, 2026-01-28)</li>
</ul>
<hr />
<h2 id="lsp-feature-implementation"><a class="header" href="#lsp-feature-implementation">LSP Feature Implementation</a></h2>
<p>The LSP compliance table is now auto-generated. Source of truth: <code>features.toml</code></p>
<!-- BEGIN: COMPLIANCE_TABLE -->
<div class="table-wrapper"><table><thead><tr><th>Area</th><th>Implemented</th><th>Total</th><th>Coverage</th></tr></thead><tbody>
<tr><td>debug</td><td>6</td><td>6</td><td>100%</td></tr>
<tr><td>notebook</td><td>2</td><td>2</td><td>100%</td></tr>
<tr><td>protocol</td><td>9</td><td>9</td><td>100%</td></tr>
<tr><td>text_document</td><td>41</td><td>41</td><td>100%</td></tr>
<tr><td>window</td><td>9</td><td>9</td><td>100%</td></tr>
<tr><td>workspace</td><td>26</td><td>26</td><td>100%</td></tr>
<tr><td><strong>Overall</strong></td><td><strong>93</strong></td><td><strong>93</strong></td><td><strong>100%</strong></td></tr>
</tbody></table>
</div><!-- END: COMPLIANCE_TABLE -->
<p><strong>v0.9.0 Metrics</strong>:</p>
<ul>
<li><strong>Advertised GA Coverage</strong>: 100% (53/53 trackable features)</li>
<li><strong>Protocol Compliance</strong>: 100% (88/88 including plumbing)</li>
<li><strong>Total Cataloged</strong>: 89 features</li>
<li><strong>Recent Promotions</strong>: 8 features promoted to GA in v0.9.0</li>
</ul>
<p>For live metrics, run <code>just status-check</code> or see <a href="CURRENT_STATUS.html">CURRENT_STATUS.md</a>.</p>
<hr />
<h2 id="benchmarks"><a class="header" href="#benchmarks">Benchmarks</a></h2>
<p><strong>Framework exists; results are not yet published as canonical numbers.</strong></p>
<p>Until benchmark outputs are committed under <code>benchmarks/results/</code>, we do not state performance claims in this roadmap.</p>
<p>To publish:</p>
<ol>
<li>Run benchmark harness: <code>cargo bench -p perl-parser</code></li>
<li>Commit <code>benchmarks/results/&lt;date&gt;-&lt;machine&gt;.json</code></li>
<li>Update <code>benchmarks/BENCHMARK_FRAMEWORK.md</code> with machine + command line</li>
</ol>
<hr />
<h2 id="historical-roadmap"><a class="header" href="#historical-roadmap">Historical Roadmap</a></h2>
<p>See <code>docs/archive/roadmaps/</code> for historical roadmap versions.</p>
<p>Older targets (Q1-Q4 2025, 2026 vision) have been archived. Current focus is v0.9/v1.0 milestones above.</p>
<hr />
<h2 id="resources"><a class="header" href="#resources">Resources</a></h2>
<p><strong>Start here:</strong> <a href="INDEX.html"><code>INDEX.md</code></a> - Routes you to the right doc.</p>
<ul>
<li><strong><a href="CURRENT_STATUS.html">Current Status</a></strong> - Computed metrics (the only place with numbers)</li>
<li><strong><a href="../features.toml">features.toml</a></strong> - Canonical capability definitions</li>
<li><strong><a href="LESSONS.html">LESSONS.md</a></strong> - What went wrong and what changed</li>
</ul>
<!-- Last Updated: 2026-02-17 -->

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../reference/current-status.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../reference/milestones.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../reference/current-status.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../reference/milestones.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
