==================
PerlIO layer stacks
==================
# @id: perlio.layers.001
# @tags: open perlio layers encoding crlf raw
# @perl: 5.8+
open my $fh, '<:raw:encoding(UTF-8):crlf', $file;
open my $out, '>:utf8:unix', $outfile;
open my $bin, '<:raw', $binary;
binmode STDOUT, ':encoding(UTF-8)';
binmode $fh, ':raw:bytes';

==================
Complex layer combinations
==================
# @id: perlio.layers.002
# @tags: open perlio layers encoding via
# @perl: 5.8+
open my $fh, '<:via(MyLayer):encoding(UTF-8)', $file;
open my $sock, '+<:raw:perlio', $socket;
open my $mem, '<', \$string;
binmode $fh, ':pop';

==================
Layer introspection
==================
# @id: perlio.layers.003
# @tags: perlio layers PerlIO
# @perl: 5.8+
use PerlIO;
my @layers = PerlIO::get_layers($fh);
my @detailed = PerlIO::get_layers($fh, details => 1);
my @input = PerlIO::get_layers($fh, input => 1);
my @output = PerlIO::get_layers($fh, output => 1);
