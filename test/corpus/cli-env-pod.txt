==================
Command line arguments
==================
# @id: cli_env_pod.001
# @tags: argv documentation env pod
# @perl: 5.8+


BEGIN { @ARGV = qw(--verbose file.txt --count=5) }
shift @ARGV;
my $file = $ARGV[0];
while (<>) {
    print;
}
$ARGV;

---

(source_file
  (begin_block (block (expression_statement (assignment_expression (special_variable) (qw_list)))))
  (expression_statement (call_expression (identifier) (special_variable)))
  (expression_statement (my_declaration (variable) (array_element (special_variable) (number))))
  (while_statement (parenthesized_expression (readline)) (block (expression_statement (call_expression (identifier)))))
  (expression_statement (special_variable)))

==================
Getopt::Long usage
==================
# @id: cli_env_pod.002
# @tags: argv documentation env pod
# @perl: 5.8+


use Getopt::Long qw(GetOptions);
GetOptions(
    'verbose!' => \my $verbose,
    'output=s' => \my $output,
    'count=i'  => \my $count,
) or die "Invalid options";
GetOptions(\my %opts, 'debug', 'file=s@', 'define=s%');

---

(source_file
  (use_statement (module_name) (qw_list))
  (expression_statement (binary_expression 
    (call_expression (identifier) (argument_list
      (pair (string) (reference (my_declaration (variable))))
      (pair (string) (reference (my_declaration (variable))))
      (pair (string) (reference (my_declaration (variable))))))
    (call_expression (identifier) (string))))
  (expression_statement (call_expression (identifier) (argument_list 
    (reference (my_declaration (variable))) 
    (string) 
    (string) 
    (string)))))

==================
Environment variables
==================
# @id: cli_env_pod.003
# @tags: argv documentation env pod
# @perl: 5.8+


$ENV{PATH} = "/usr/local/bin:/usr/bin";
$ENV{HOME};
delete $ENV{TEMP};
local $ENV{PERL5LIB} = "./lib";
exists $ENV{USER};
keys %ENV;

---

(source_file
  (expression_statement (assignment_expression (hash_element (special_variable) (identifier)) (string)))
  (expression_statement (hash_element (special_variable) (identifier)))
  (expression_statement (call_expression (identifier) (hash_element (special_variable) (identifier))))
  (expression_statement (local_declaration (hash_element (special_variable) (identifier)) (string)))
  (expression_statement (call_expression (identifier) (hash_element (special_variable) (identifier))))
  (expression_statement (call_expression (identifier) (special_variable))))

==================
INC manipulation
==================
# @id: cli_env_pod.004
# @tags: argv documentation env pod
# @perl: 5.8+


@INC;
unshift @INC, "./lib";
push @INC, "/custom/lib";
use lib "./local";
no lib "./temp";
BEGIN { @INC = ("/only/path", @INC) }

---

(source_file
  (expression_statement (special_variable))
  (expression_statement (call_expression (identifier) (special_variable) (string)))
  (expression_statement (call_expression (identifier) (special_variable) (string)))
  (use_statement (identifier) (string))
  (no_statement (identifier) (string))
  (begin_block (block (expression_statement (assignment_expression (special_variable) (list (string) (special_variable)))))))

==================
Basic POD documentation
==================
# @id: cli_env_pod.005
# @tags: argv comment documentation env pod
# @perl: 5.8+


=pod

=head1 NAME

MyModule - A sample module

=head1 SYNOPSIS

    use MyModule;
    my $obj = MyModule->new();

=head1 DESCRIPTION

This module provides functionality.

=head2 Methods

=over 4

=item B<new>

Constructor method.

=item B<process>

Process data.

=back

=head1 AUTHOR

Your Name

=cut

---

(source_file
  (pod_document))

==================
Inline POD
==================
# @id: cli_env_pod.006
# @tags: argv comment documentation env pod
# @perl: 5.8+


print "before pod";

=for comment
This is a comment block
that won't appear in output
=cut

print "after pod";

=begin html

<p>HTML content here</p>

=end html

=encoding utf8

---

(source_file
  (expression_statement (call_expression (identifier) (string)))
  (pod_document)
  (expression_statement (call_expression (identifier) (string)))
  (pod_document)
  (pod_document))

==================
Script name and DATA
==================
# @id: cli_env_pod.007
# @tags: argv documentation env pod
# @perl: 5.8+


$0;
$0 = "newname";
__FILE__;
__LINE__;
__PACKAGE__;
__DATA__
test data
more data
__END__

---

(source_file
  (expression_statement (special_variable))
  (expression_statement (assignment_expression (special_variable) (string)))
  (expression_statement (special_literal))
  (expression_statement (special_literal))
  (expression_statement (special_literal))
  (data_marker)
  (data_section)
  (end_marker))
